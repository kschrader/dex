---
import Base from '../layouts/Base.astro';
import Terminal from '../components/Terminal.astro';
import PackageManagerTabs from '../components/PackageManagerTabs.astro';
---

<Base title="Install" description="Install dex CLI and AI agent skills">
  <h1>Installation</h1>

  <h2>Quick Start</h2>
  <p>Install dex globally:</p>
  <PackageManagerTabs
    npm="npm install -g @zeeg/dex"
    pnpm="pnpm add -g @zeeg/dex"
    bun="bun add -g @zeeg/dex"
  />
  <p>Or use the skills installer for Claude Code, OpenCode, Codex, or Cursor:</p>
  <PackageManagerTabs
    npm="npx skills dcramer/dex"
    pnpm="pnpm dlx skills dcramer/dex"
    bun="bunx skills dcramer/dex"
  />

  <h2>Configure Your Project</h2>
  <p>Add dex instructions to your project's <code>AGENTS.md</code> or <code>CLAUDE.md</code> file so Claude and other AI agents know to use it for task management:</p>
  <Terminal title="AGENTS.md" showCopy={true}>
    <pre class="cli-output">## Task Management
Use `/dex` to break down complex work, track progress across sessions, and coordinate multi-step implementations.</pre>
  </Terminal>
  <p>Place this file in your project root and commit it to version control so your team shares the same context.</p>

  <h2>Alternative Installation Methods</h2>

  <h3>Claude Code Marketplace</h3>
  <p>Install directly from the Claude Code marketplace:</p>
  <Terminal title="Terminal" showCopy={true}>
    <pre class="cli-output"><span class="cli-dim">$</span> claude plugin marketplace add dcramer/dex
<span class="cli-dim">$</span> claude plugin install dex@dex</pre>
  </Terminal>
  <p>The <code>/dex</code> skill will be available immediately.</p>

  <h2>Shell Completions</h2>
  <p>Enable tab completion for dex commands and task IDs.</p>

  <h3>Bash</h3>
  <p>Add to <code>~/.bashrc</code>:</p>
  <Terminal title="~/.bashrc" showCopy={true}>
    <pre class="cli-output">eval "$(dex completion bash)"</pre>
  </Terminal>

  <h3>Zsh</h3>
  <p>Add to <code>~/.zshrc</code> (after compinit):</p>
  <Terminal title="~/.zshrc" showCopy={true}>
    <pre class="cli-output">eval "$(dex completion zsh)"</pre>
  </Terminal>

  <h3>Fish</h3>
  <p>Add to <code>~/.config/fish/config.fish</code>:</p>
  <Terminal title="config.fish" showCopy={true}>
    <pre class="cli-output">dex completion fish | source</pre>
  </Terminal>

</Base>
