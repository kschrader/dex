{
  "tasks": [
    {
      "id": "0exr3phi",
      "parent_id": null,
      "description": "Improve CLI list output with nested subtasks",
      "context": "The list command should visually nest subtasks under their parents with tree-like formatting (indentation or tree characters).",
      "priority": 1,
      "status": "completed",
      "result": "Added ASCII tree characters (|-- and `--) for nested subtask display",
      "created_at": "2026-01-22T08:33:03.571Z",
      "updated_at": "2026-01-22T08:38:39.566Z",
      "completed_at": "2026-01-22T08:38:39.566Z"
    },

    {
      "id": "0g7kgxn8",
      "parent_id": null,
      "description": "Build and verify compilation",
      "context": "Ensure project compiles cleanly with no TypeScript errors or warnings. Run the CLI and MCP server to verify basic functionality.",
      "priority": 1,
      "status": "completed",
      "result": "Build verified throughout review process",
      "created_at": "2026-01-22T08:05:32.003Z",
      "updated_at": "2026-01-22T08:26:18.895Z",
      "completed_at": null
    },

    {
      "id": "162r0wsp",
      "parent_id": null,
      "description": "Add per-command --help support",
      "context": "Commands like 'dex list --help' should show command-specific help. Currently only 'dex help' or 'dex --help' works.",
      "priority": 1,
      "status": "completed",
      "result": "Added --help/-h to all commands with usage and examples",
      "created_at": "2026-01-22T08:26:06.782Z",
      "updated_at": "2026-01-22T08:32:51.840Z",
      "completed_at": null
    },

    {
      "id": "1u1i8r5k",
      "parent_id": null,
      "description": "Review core/task-service.ts",
      "context": "Review business logic, edge cases, consistency. Check update/delete semantics, ID generation, and proper timestamp handling.",
      "priority": 1,
      "status": "completed",
      "result": "Fixed complete() to check all descendants, update() now throws on not found",
      "created_at": "2026-01-22T08:05:20.413Z",
      "updated_at": "2026-01-22T08:22:25.574Z",
      "completed_at": null
    },

    {
      "id": "2mzbmm8x",
      "parent_id": null,
      "description": "Update dex skill with subtask guidance",
      "context": "Update skills/dex/SKILL.md to explain subtask usage. Keep concise. Cover: --parent flag for creating subtasks, tree display in list, completion blocking, when to use subtasks vs separate tasks.",
      "priority": 1,
      "status": "completed",
      "result": "Added Subtasks section covering --parent flag, tree view, and completion rules",
      "created_at": "2026-01-22T08:11:47.782Z",
      "updated_at": "2026-01-22T08:15:52.205Z",
      "completed_at": null
    },

    {
      "id": "6qk92fyx",
      "parent_id": null,
      "description": "Improve show command with subtasks and parent display",
      "context": "The show command needs to display relationships:\n\n1. PARENT TASK (if this task has one):\n   - Show parent at the top: 'Parent: abc123 - Parent description'\n   - Make it clear this is a subtask\n\n2. SUBTASKS (if this task has any):\n   - Show after main task details\n   - Use tree display similar to list\n   - Show status, ID, description (truncated)\n\nExample:\nParent: abc123 - Implement authentication\n\n[ ] def456 [p0]: Add login endpoint\n\nContext:\n  Implement POST /login endpoint...\n\nSubtasks (2 pending, 1 completed):\n├── [x] ghi789: Create login form (2h ago)\n├── [ ] jkl012: Add validation\n└── [ ] mno345: Write tests\n\nBe thoughtful about layout and readability.",
      "priority": 0,
      "status": "pending",
      "result": null,
      "created_at": "2026-01-22T09:00:08.855Z",
      "updated_at": "2026-01-22T09:00:08.855Z",
      "completed_at": null
    },

    {
      "id": "72swtblt",
      "parent_id": null,
      "description": "Add test coverage",
      "context": "The project has no tests. Add unit tests for core logic (TaskService, Storage) and integration tests for CLI and MCP interfaces.",
      "priority": 1,
      "status": "completed",
      "result": "Added Vitest test suite with 59 tests",
      "created_at": "2026-01-22T08:05:31.581Z",
      "updated_at": "2026-01-22T08:26:18.799Z",
      "completed_at": null
    },

    {
      "id": "8d0cnol6",
      "parent_id": null,
      "description": "Review index.ts",
      "context": "Review entry point, argument parsing, error handling. Check for edge cases in arg parsing and proper error propagation.",
      "priority": 1,
      "status": "completed",
      "result": "Better --storage-path error handling and =value syntax support",
      "created_at": "2026-01-22T08:05:19.627Z",
      "updated_at": "2026-01-22T08:22:25.385Z",
      "completed_at": null
    },

    {
      "id": "94b4gmzs",
      "parent_id": null,
      "description": "Review core/storage.ts",
      "context": "Review file I/O, git root detection, error handling. Check for race conditions, proper error messages, and edge cases like missing directories or corrupted JSON.",
      "priority": 1,
      "status": "completed",
      "result": "Atomic writes, safe JSON parsing, TOCTOU fixes, worktree support",
      "created_at": "2026-01-22T08:05:20.017Z",
      "updated_at": "2026-01-22T08:22:25.480Z",
      "completed_at": null
    },

    {
      "id": "cywm9e1w",
      "parent_id": null,
      "description": "Add completed_at timestamp to tasks",
      "context": "Track when tasks are completed separately from updated_at. Add completed_at field that gets set when status changes to completed.",
      "priority": 1,
      "status": "completed",
      "result": "Added completed_at field, set on completion, cleared on reopen",
      "created_at": "2026-01-22T08:33:03.475Z",
      "updated_at": "2026-01-22T08:38:39.461Z",
      "completed_at": "2026-01-22T08:38:39.461Z"
    },

    {
      "id": "g67lqf69",
      "parent_id": null,
      "description": "Update MCP tools for parent_id",
      "context": "Add parent_id to create_task and update_task schemas. Update list_tasks to include parent info.",
      "priority": 1,
      "status": "completed",
      "result": "Added parent_id to create_task and update_task schemas with error handling",
      "created_at": "2026-01-22T08:09:42.043Z",
      "updated_at": "2026-01-22T08:13:02.607Z",
      "completed_at": null
    },

    {
      "id": "gla3hnb2",
      "parent_id": null,
      "description": "Update task-service.ts for parent_id",
      "context": "Handle parent validation on create/update. Add getChildren(id) method. Block completion if children pending. Cascade delete or error on parent delete.",
      "priority": 1,
      "status": "completed",
      "result": "Added parent validation in create/update, cycle detection, cascade delete, getChildren method, and completion blocking on pending children",
      "created_at": "2026-01-22T08:09:41.176Z",
      "updated_at": "2026-01-22T08:10:56.697Z",
      "completed_at": null
    },

    {
      "id": "gxxrliuo",
      "parent_id": null,
      "description": "Run claude-settings-audit",
      "context": "Use the claude-settings-audit skill to generate recommended Claude Code settings.json permissions for this project.",
      "priority": 1,
      "status": "completed",
      "result": "Created .claude/settings.json with build, test, and read-only permissions",
      "created_at": "2026-01-22T08:26:06.877Z",
      "updated_at": "2026-01-22T08:32:51.937Z",
      "completed_at": null
    },

    {
      "id": "h3npzw1n",
      "parent_id": null,
      "description": "Make storage format git-friendly",
      "context": "Ensure the .dex/tasks.json format won't cause merge conflicts for teams who commit it. Consider: stable sorting, deterministic output, maybe one task per line (JSONL)?",
      "priority": 1,
      "status": "completed",
      "result": "Sort by ID, consistent field order, blank lines between tasks",
      "created_at": "2026-01-22T08:33:03.766Z",
      "updated_at": "2026-01-22T08:38:39.772Z",
      "completed_at": "2026-01-22T08:38:39.772Z"
    },

    {
      "id": "i727cnlw",
      "parent_id": null,
      "description": "Review types.ts",
      "context": "Review Zod schemas, validation rules, type safety. Check for missing validations, proper defaults, and schema consistency.",
      "priority": 1,
      "status": "completed",
      "result": "Added min validations, datetime for timestamps. Priority allows 0 for highest.",
      "created_at": "2026-01-22T08:05:19.226Z",
      "updated_at": "2026-01-22T08:22:18.195Z",
      "completed_at": null
    },

    {
      "id": "jp2shtxi",
      "parent_id": null,
      "description": "Review mcp/server.ts",
      "context": "Review MCP setup, tool registration, error handling. Check for proper async handling and schema validation.",
      "priority": 1,
      "status": "completed",
      "result": "Added Zod error handling with user-friendly formatting",
      "created_at": "2026-01-22T08:05:20.795Z",
      "updated_at": "2026-01-22T08:25:58.881Z",
      "completed_at": null
    },

    {
      "id": "kkfwtp28",
      "parent_id": null,
      "description": "Update types.ts for parent_id",
      "context": "Add parent_id: z.string().nullable().default(null) to TaskSchema. Add to CreateTaskInput and UpdateTaskInput schemas.",
      "priority": 1,
      "status": "completed",
      "result": "Added parent_id to TaskSchema, CreateTaskInputSchema, and UpdateTaskInputSchema",
      "created_at": "2026-01-22T08:09:32.617Z",
      "updated_at": "2026-01-22T08:10:02.088Z",
      "completed_at": null
    },

    {
      "id": "llqse2o0",
      "parent_id": null,
      "description": "Review config files",
      "context": "Review tsconfig.json and package.json for correctness. Check compiler options, dependencies, and package metadata.",
      "priority": 1,
      "status": "completed",
      "result": "Added main, types, exports, files fields to package.json",
      "created_at": "2026-01-22T08:05:30.768Z",
      "updated_at": "2026-01-22T08:25:59.072Z",
      "completed_at": null
    },

    {
      "id": "lujm9kvt",
      "parent_id": null,
      "description": "Add test suite",
      "context": "Set up a basic test suite using modern tooling (Vitest recommended). Focus on:\n- Core business logic (TaskService CRUD, parent/child relationships)\n- Storage layer (read/write, error handling)\n- CLI argument parsing\n\nBest practices:\n- Use real file system with temp directories, avoid mocking storage\n- Test behavior not implementation\n- Focus on edge cases and error paths\n- Keep tests fast and isolated",
      "priority": 0,
      "status": "completed",
      "result": "Added Vitest with 59 tests covering TaskService and Storage",
      "created_at": "2026-01-22T08:22:33.268Z",
      "updated_at": "2026-01-22T08:25:59.166Z",
      "completed_at": null
    },

    {
      "id": "mmljra0a",
      "parent_id": null,
      "description": "Update SKILL.md with task breakdown guidance",
      "context": "Update skills/dex/SKILL.md:\n\n1. Remove outdated 'dex projects' section\n2. Add guidance on WHEN to use subtasks (and when not to)\n3. Add guidance on task granularity\n4. Add guidance on breaking down complex work\n5. Keep it concise - this is reference doc, not tutorial\n\nKey points to cover:\n- Use subtasks when work decomposes into 3+ discrete steps\n- Don't use subtasks for simple atomic tasks or just 1-2 items\n- Each task should be completable in one session\n- 3-7 subtasks per parent is usually right\n- Context should have clear completion criteria",
      "priority": 1,
      "status": "completed",
      "result": "Removed projects, added when to use subtasks, task granularity guidance, updated best practices",
      "created_at": "2026-01-22T08:47:26.044Z",
      "updated_at": "2026-01-22T08:48:19.065Z",
      "completed_at": "2026-01-22T08:48:19.065Z"
    },

    {
      "id": "n37z272m",
      "parent_id": null,
      "description": "Review error handling patterns",
      "context": "Cross-cutting review of error handling across the codebase. Look for inconsistent patterns, silent failures, missing error cases.",
      "priority": 1,
      "status": "completed",
      "result": "Added typed error classes with suggestions, consistent throw-based errors",
      "created_at": "2026-01-22T08:05:31.179Z",
      "updated_at": "2026-01-22T08:32:51.744Z",
      "completed_at": null
    },

    {
      "id": "nz04jz9i",
      "parent_id": null,
      "description": "Clean up list command output",
      "context": "Issues to fix:\n1. Show completed age/duration for finished tasks (e.g., 'completed 2h ago') instead of or in addition to timestamps\n2. Verify tree view is working - subtasks should show with |-- connectors\n3. Remove project display from list output - we have parent/child relationships now, projects may be obsolete\n4. Consider if projects should be removed entirely in favor of parent task hierarchy",
      "priority": 0,
      "status": "completed",
      "result": "Removed project display, added completion age, Unicode tree characters (├── └── │)",
      "created_at": "2026-01-22T08:39:21.899Z",
      "updated_at": "2026-01-22T08:41:50.056Z",
      "completed_at": "2026-01-22T08:41:50.056Z"
    },

    {
      "id": "o6o2x7y3",
      "parent_id": null,
      "description": "Update guidance for detailed context and result content",
      "context": "The SKILL.md and CLI help need to emphasize that context and result should be detailed:\n\nCONTEXT should include:\n- Full requirements and constraints\n- Technical approach/decisions\n- Dependencies and blockers\n- Acceptance criteria / definition of done\n- Links to relevant files, docs, or issues\n\nRESULT should include:\n- What was actually implemented (specific details)\n- Key decisions made and why\n- Any deviations from plan\n- Follow-up items or tech debt noted\n- Links to commits, files changed\n\nUpdate:\n1. skills/dex/SKILL.md - expand examples and guidance\n2. CLI help text - improve examples in help command\n3. Error messages - if context/result is too short, suggest more detail?",
      "priority": 0,
      "status": "completed",
      "result": "Updated SKILL.md and CLI help with detailed context/result examples and guidance",
      "created_at": "2026-01-22T08:51:59.351Z",
      "updated_at": "2026-01-22T08:59:49.870Z",
      "completed_at": "2026-01-22T08:59:49.870Z"
    },

    {
      "id": "odn7uz8l",
      "parent_id": null,
      "description": "Make CLI a great user experience",
      "context": "Improve CLI UX while maintaining terminal compatibility. Consider:\n- Better output formatting and alignment\n- Color support (with fallback for no-color terminals)\n- Clearer error messages with suggestions\n- Progress indicators for operations\n- Interactive confirmations for destructive actions\n- Tab completion\n- Consistent output for scripting (--json flag?)\n\nMust work in all terminals - no fancy Unicode that might not render.",
      "priority": 1,
      "status": "completed",
      "result": "Added colors (NO_COLOR support), --json output, command suggestions, delete confirmation, improved error messages, column alignment",
      "created_at": "2026-01-22T08:13:50.998Z",
      "updated_at": "2026-01-22T08:19:33.565Z",
      "completed_at": null
    },

    {
      "id": "p2tt9ce8",
      "parent_id": null,
      "description": "Optimize AGENTS.md for minimal token usage",
      "context": "Find the most concise way to instruct agents to use dex instead of TodoWrite. Current text may be too verbose. Goal: minimal tokens while being unambiguous.",
      "priority": 1,
      "status": "completed",
      "result": "Reduced to single line: 50% token reduction while maintaining clarity",
      "created_at": "2026-01-22T08:12:31.851Z",
      "updated_at": "2026-01-22T08:15:52.301Z",
      "completed_at": null
    },

    {
      "id": "q8i8zrtv",
      "parent_id": null,
      "description": "Review tools/*.ts",
      "context": "Review MCP tool handlers (create-task, update-task, list-tasks, list-projects, response). Check for response consistency, proper error handling, and schema alignment.",
      "priority": 1,
      "status": "completed",
      "result": "Aligned schemas with types.ts, consistent JSON responses, added error handling",
      "created_at": "2026-01-22T08:05:30.379Z",
      "updated_at": "2026-01-22T08:25:58.976Z",
      "completed_at": null
    },

    {
      "id": "qgeekbje",
      "parent_id": null,
      "description": "Audit and improve CLI output formatting",
      "context": "The show command and others need better terminal display:\n\n1. show command:\n   - Context and result can be very long (multi-paragraph)\n   - Should wrap text at terminal width\n   - Consider collapsible sections or truncation with 'show --full'\n   - Better visual separation between fields\n\n2. Other commands to audit:\n   - list: Is tree view readable with long descriptions?\n   - help: Is it well-formatted?\n   - create/complete output: Is it clear and concise?\n\n3. General improvements:\n   - Respect terminal width (process.stdout.columns)\n   - Word-wrap long text\n   - Use visual separators (blank lines, headers)\n   - Consider pager for very long output?",
      "priority": 0,
      "status": "completed",
      "result": "Added word wrapping, truncation, --full flag, improved show command sections",
      "created_at": "2026-01-22T08:48:55.242Z",
      "updated_at": "2026-01-22T08:51:50.807Z",
      "completed_at": "2026-01-22T08:51:50.807Z"
    },

    {
      "id": "qshyah2e",
      "parent_id": null,
      "description": "Update CLI for parent_id",
      "context": "Add --parent flag to create command. Update list to show tree structure. Update show to display subtask count. Update complete to check for pending children.",
      "priority": 1,
      "status": "completed",
      "result": "Added --parent flag to create/edit, tree display in list with --flat option, subtask count in show, error handling for completion blocking",
      "created_at": "2026-01-22T08:09:41.607Z",
      "updated_at": "2026-01-22T08:12:26.059Z",
      "completed_at": null
    },

    {
      "id": "t72fyvt2",
      "parent_id": null,
      "description": "Add subtask support (parent_id)",
      "context": "Add parent_id to tasks for subtask hierarchy. Simpler than full dependency graph.\n\nBehavior:\n- Tasks can have a parent_id referencing another task\n- Parent can't complete until all children complete\n- List shows hierarchy (indented or tree view)\n- Optional: hierarchical IDs like beads (abc123.1, abc123.1.1)\n\nSkip for now:\n- Cross-task depends_on/blocked_by\n- 'ready' command (unblocked tasks)\n\nPrior art: github.com/steveyegge/beads (full graph model)",
      "priority": 0,
      "status": "completed",
      "result": "Implemented parent_id support: create/edit with --parent, tree view in list, subtask count in show, completion blocking, cascade delete. Updated types, task-service, CLI, and MCP tools.",
      "created_at": "2026-01-22T08:06:39.947Z",
      "updated_at": "2026-01-22T08:13:39.602Z",
      "completed_at": null
    },

    {
      "id": "vflxvmp7",
      "parent_id": null,
      "description": "Add proper CLI argument validation",
      "context": "Use a proper CLI parser or add validation to reject unknown flags/arguments instead of silently ignoring them. Consider using a lightweight parser like minimist or just improve the existing parser.",
      "priority": 1,
      "status": "completed",
      "result": "Reject unknown flags with error and suggestions",
      "created_at": "2026-01-22T08:33:03.665Z",
      "updated_at": "2026-01-22T08:38:39.669Z",
      "completed_at": "2026-01-22T08:38:39.669Z"
    },

    {
      "id": "zhpk2mgj",
      "parent_id": null,
      "description": "Review cli/commands.ts",
      "context": "Review command handling, UX, error messages. Check for consistent error handling, helpful output, and proper exit codes.",
      "priority": 1,
      "status": "completed",
      "result": "Validated --status and numeric flags, fixed empty flag handling",
      "created_at": "2026-01-22T08:05:21.191Z",
      "updated_at": "2026-01-22T08:32:51.648Z",
      "completed_at": null
    }
  ]
}